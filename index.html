<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="exe_effects.css" />
<link rel="stylesheet" type="text/css" href="exe_highlighter.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>JavaFX </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="es" />
<meta name="author" content="José Ramón Jiménez Reyes" />
<meta name="generator" content="eXeLearning 2.5.1 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="exe_effects.js"></script>
<script type="text/javascript" src="exe_highlighter.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" /></head>
<body class="exe-web-site" id="exe-node-0"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<div id="header" ><div id="headerContent">JavaFX</div></div>
<div id="siteNav">
<ul>
   <li id="active"><a href="index.html" class="active daddy main-node">JavaFX</a></li>
   <li><a href="diseo_de_interfaces.html" class="daddy">Diseño de interfaces</a>
   <ul class="other-section">
      <li><a href="controles.html" class="daddy">Controles</a>
      <ul class="other-section">
         <li><a href="etiquetas.html" class="no-ch">Etiquetas</a></li>
         <li><a href="hiperenlaces.html" class="no-ch">Hiperenlaces</a></li>
         <li><a href="campos_de_texto.html" class="no-ch">Campos de texto</a></li>
         <li><a href="campos_de_contrasea.html" class="no-ch">Campos de contraseña</a></li>
         <li><a href="botones.html" class="no-ch">Botones</a></li>
         <li><a href="botones_de_activacin.html" class="no-ch">Botones de activación</a></li>
         <li><a href="radio_botones.html" class="no-ch">Radio botones</a></li>
         <li><a href="casillas_de_verificacin.html" class="no-ch">Casillas de verificación</a></li>
         <li><a href="cajas_de_eleccin.html" class="no-ch">Cajas de elección</a></li>
         <li><a href="cajas_combinadas.html" class="no-ch">Cajas combinadas</a></li>
         <li><a href="separador.html" class="no-ch">Separador</a></li>
         <li><a href="barras_de_desplazamiento_y_paneles_de_desplazamiento.html" class="no-ch">Barras de desplazamiento y paneles de desplazamiento</a></li>
         <li><a href="deslizador.html" class="no-ch">Deslizador</a></li>
         <li><a href="barras_e_indicadores_de_progreso.html" class="no-ch">Barras e indicadores de progreso</a></li>
         <li><a href="vista_de_lista.html" class="no-ch">Vista de lista</a></li>
         <li><a href="vista_de_tabla.html" class="no-ch">Vista de tabla</a></li>
         <li><a href="vista_de_rbol.html" class="no-ch">Vista de árbol</a></li>
         <li><a href="vista_de_tabla_en_rbol.html" class="no-ch">Vista de tabla en árbol</a></li>
         <li><a href="editor_html.html" class="no-ch">Editor HTML</a></li>
         <li><a href="informacin_contextual.html" class="no-ch">Información contextual</a></li>
         <li><a href="mens.html" class="no-ch">Menús</a></li>
         <li><a href="paneles_con_ttulo_y_acordeones.html" class="no-ch">Paneles con título y acordeones</a></li>
         <li><a href="paginacin.html" class="no-ch">Paginación</a></li>
         <li><a href="selector_de_color.html" class="no-ch">Selector de color</a></li>
         <li><a href="selector_de_fecha.html" class="no-ch">Selector de fecha</a></li>
         <li><a href="selector_de_ficheros.html" class="no-ch">Selector de ficheros</a></li>
      </ul>
      </li>
      <li><a href="paneles_de_diseo.html" class="no-ch">Paneles de diseño</a></li>
      <li><a href="personalizacin_de_interfaces.html" class="no-ch">Personalización de interfaces</a></li>
   </ul>
   </li>
   <li><a href="interaccionando_con_el_usuario.html" class="daddy">Interaccionando con el usuario</a>
   <ul class="other-section">
      <li><a href="contador_de_pulsaciones.html" class="no-ch">Contador de pulsaciones</a></li>
      <li><a href="qu_botn_hemos_pulsado.html" class="no-ch">¿Qué botón hemos pulsado?</a></li>
      <li><a href="campo_de_texto_con_una_longitud_mxima.html" class="no-ch">Campo de texto con una longitud máxima</a></li>
      <li><a href="campo_de_texto_numrico.html" class="no-ch">Campo de texto numérico</a></li>
      <li><a href="qu_radio_botn_hemos_seleccionado.html" class="no-ch">¿Qué radio botón hemos seleccionado?</a></li>
      <li><a href="qu_opcin_hemos_escojido_de_una_caja_de_eleccin.html" class="no-ch">¿Qué opción hemos escojido de una caja de elección?</a></li>
      <li><a href="elige_las_imgenes_a_mostrar.html" class="no-ch">Elige las imágenes a mostrar</a></li>
      <li><a href="posicin_del_ratn.html" class="no-ch">Posición del ratón</a></li>
      <li><a href="cmo_cambia_el_valor_de_un_deslizador.html" class="no-ch">¿Cómo cambia el valor de un deslizador?</a></li>
      <li><a href="interaccionando_con_una_lista.html" class="no-ch">Interaccionando con una lista</a></li>
      <li><a href="mostrando_dilogos.html" class="no-ch">Mostrando diálogos</a></li>
      <li><a href="trabajando_con_tablas.html" class="no-ch">Trabajando con tablas</a></li>
   </ul>
   </li>
   <li><a href="fxml.html" class="daddy">FXML</a>
   <ul class="other-section">
      <li><a href="scenebuilder.html" class="no-ch">SceneBuilder</a></li>
   </ul>
   </li>
   <li><a href="cdigo_de_los_ejemplos.html" class="no-ch">Código de los ejemplos</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="diseo_de_interfaces.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">JavaFX</h1></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id1">
<div class="iDevice emphasis0">
<div id="ta1_154" class="block iDevice_content">
<p>JavaFX es una tecnología creada por Oracle para el desarrollo de interfaces gráficas para nuestras aplicaciones en el lenguaje de programación Java. Para crear interfaces gráficas en Java, antiguamente se utilizaba AWT y luego posteriormente Swing, pero la potencia de JavaFX no tiene ni punto de comparación a la de sus predecesoras. JavaFX fue anunciado en mayo de 2007 y liberado en diciembre de 2008.</p>
<p>En el jdk 8, JavaFX venía incluido. Oracle desde entonces ha hecho muchos cambios en la filosofía adoptada con el jdk. Como ya sabéis ya dejó de ser libre su jdk, aunque lo liberó en el openjdk el cual impulsa activamente. También, debido a su política de actualización del jdk y dado que JavaFX no evolucionaba a ese ritmo, decidió independizar el jdk de JavaFX. También decidió no generar binarios de su herramienta de diseño para dicha tecnología, Scene Builder. Por todo ello, la empresa Gluon, fue la encargada de empaquetar las librerías de JavaFX y los binarios de Scene Builder.</p>
<p>Para crear aplicaciones utilizando JavaFX debemos tener el SDK de JavaFX. El SDK de JavaFX podemos descargarlo de la página de Gluon en la que podemos elegir la versión empaquetada para nuestro SO.</p>
<p style="text-align: center;"><a href="https://gluonhq.com/products/javafx/" target="_blank" title="Acceder a la página de descarga del SDK de Java FX" rel="noopener">Página de descarga del SDK de Java FX</a></p>
<p>Para poder integrarlo en nuestra aplicación y/o <strong>Eclipse</strong> tenemos varias opciones. Veamos las diferentes opciones y los pros y contras de cada una de ellas:</p>
<div class="exe-fx exe-accordion">
<h2>Como librería de usuario en Eclipse</h2>
<p>Una vez descargado el SDK de JavaFX debemos integrarlo en Eclipse como una librería de usuario. Para ello, en Eclipse, debemos crear una nueva librería de usuario. Elegimos la opción <strong>Window|Preferences||Java|Build Path|User Libraries</strong> y elegimos la opción <strong>New</strong> y le damos un nombre apropiado.</p>
<p><img src="Captura_de_pantalla_de_2021-04-12_23-15-40.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Cuando ya hemos creado la librería, elegimos la opción <strong>Add External JARs...</strong> y añadimos todos los ficheros <strong>.jar</strong> situados en la localización donde hemos descargado el SDK bajo la carpeta <strong>lib</strong>.</p>
<p><img src="Captura_de_pantalla_de_2021-04-12_23-16-17.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Hecho esto creamos un nuevo proyecto java y a éste le añadimos la librería de usuario que hemos creado anteriormente para lo que utilizaremos la opción <strong>Build Path|Add Libraries...</strong> del menú contextual que nos aparece a nivel de proyecto. Elegimos <strong>User Library</strong> y la librería anteriormente creada.</p>
<p>Damos contenido al proyecto a modo de primer ejemplo, para lo que puedes descargar y añadir los siguientes ficheros: <a href="Main.java" title="Descargar archivo Main.java">Main.java</a>, <a href="panelPrincipal.fxml" title="Descargar archivo panelPrincipal.fxml">panelPrincial.fxml</a> y <a href="Controlador.java" title="Descargar archivo Controlador.java">Controlador.java</a>.</p>
<p>Si intentamos ejecutar el fichero <code>Main.java</code> desde Eclipse como <strong>Java Application</strong> obtendremos este error en el IDE.</p>
<p><img src="Captura_de_pantalla_de_2021-04-12_23-29-38.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Esto es debido a que la VM de Java comprueba que la clase a la que pertenece el método <code>main</code> que se está ejecutando no extienda de <code>Application</code>. Para solucionarlo tenemos dos opciones:</p>
<ol style="list-style-type: decimal;" class=" auto-numbered">
<li>Añadir los módulos necesarios como  argumentos de la VM de Java (<code>--module-path ${project_classpath} --add-modules javafx.controls,javafx.fxml</code>):<br /><img src="Captura_de_pantalla_de_2021-04-12_23-36-04.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></li>
<li>Crear una clase lanzadora que no extienda de <strong>Application</strong> (<code><a href="LanzadoraMain.java" title="Descargar fichero LanzadoraMain.java">LanzadoraMain.java</a></code>):<br /><img src="Captura_de_pantalla_de_2021-04-12_23-37-10.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></li>
</ol>
<p>Llegados a este punto debemos ser capaces de ejecutar la clase principal, o la clase lanzadora, dependiendo de la opción elegida y veremos una salida parecida a la mostrada.</p>
<p><img src="Captura_de_pantalla_de_2021-04-12_23-56-48.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Esta opción tiene el inconveniente que no es portable ya que la librería la hemos añadido al IDE pero está localizada localmente. Pero es un buen comienzo para poder empezar a practicar.</p>
<h2>Utilizando el plugin e(fx)clipse</h2>
<p>Otra opción es utilizar el plugin de Eclipse para trabajar con Java FX: <a href="http://www.eclipse.org/efxclipse/index.html" target="_blank" title="Acceder a la página del plugin." rel="noopener">e(fx)clipse</a>.</p>
<p>Este plugin lo podemos instalar accediendo al mercado de eclipse mediante la opción <strong>Help|Eclipse Marketplace...</strong>  buscamos <strong>e(fx)clipse</strong> y lo instalamos normalmente como cualquier otro plugin.</p>
<p>Una vez hecho esto debemos configurar correctamente el camino al SDK y así que este plugin sea capaz de localizarlo y añadirlo automáticamente a los proyectos que creemos usándolo. Para ello debemos acceder a la opción <strong>Window|Preferences|JavaFX</strong> e indicar la localización donde hemos descargado el SDK de JavaFX (tiene una primera opción que por ahora obviaremos y de la que hablaremos más adelante) en la segunda opción etiquetada como <strong>JavaFX 11+ SDK</strong>.</p>
<p><img src="Captura_de_pantalla_de_2021-04-13_00-20-45.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Ahora crearemos un proyecto utilizando el plugin recién instalado.</p>
<p><img src="Captura_de_pantalla_de_2021-04-13_00-24-10.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Nos creará un esqueleto de proyecto (en el que simplemente he cambiado que el lenguaje utilizado sea FXML) tal el como muestra su estructura y cuya ejecución sería la mostrada.</p>
<p><img src="Captura_de_pantalla_de_2021-04-13_00-38-59.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>La única ventaja que tiene utilizar este plugin es que añade automáticamente el SDK de Java FX y también los argumentos adecuados a la VM para poder ejecutarlo. Al igual que en la opción anterior nos encontramos con una opción, que por si sola, no es portable</p>
<h2>Utilizando gradle como gestor de dependencias</h2>
<p>Por último podemos utilizar gradle para gestionar las dependencias y ayudarnos en el empaquetado.</p>
<p>Para ello creamos un nuevo proyecto gradle.</p>
<p><img src="Captura_de_pantalla_de_2021-04-13_16-14-35.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Sustituimos el fichero <code>build.gradle</code> por el que muestro a continuación. En él indicamos que queremos utilizar el plugin de gradle para JavaFX y los módulos a cargar. También se indica quién será la clase principal a la hora de ejecutarlo y cómo se empaquetará el fichero <code>jar</code> y qué clase se indicará en el fichero de manifiestro como clase principal.</p>
<div class="highlighted-code code-style-2 language-java line-numbers">
<div>
<pre><code>plugins {
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.9'
}

repositories {
    jcenter()
}

dependencies {
}

javafx {
    version = "15.0.1"
    modules = [ 'javafx.controls', 'javafx.fxml' ]
}

mainClassName = 'pruebajavafxgradle.Main'

jar {
	manifest {
		attributes 'Main-Class': 'pruebajavafxgradle.LanzadoraMain'
	}
	from {
		configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
	}
}
</code></pre>
</div>
</div>
<p>Creamos la estructura que se muestra con los siguientes ficheros (es muy parecido al ejemplo utilizando la primera solución): <a href="Main.1.java" title="Descargar fichero Main.app"><code>Main.java</code></a>, <a href="LanzadoraMain.1.java" title="Descargar fichero LanzadoraMain.java"><code>LanzadoraMain.java</code></a>, <a href="Controlador.1.java" title="Descargar fichero Controlador.java"><code>Controlador.java</code></a> y <a href="panelPrincipal.1.fxml"><code>panelPrincipal.fxml</code></a>. Refrescamos el proyecto gradle para que se descargue las librerías.</p>
<p><img src="Captura_de_pantalla_de_2021-04-13_16-58-43.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Ahora podremos ejecutar la clase <code>LandadoraMain</code> desde el IDE o bien podremos utilizar gradle para ello.</p>
<p><img src="Captura_de_pantalla_de_2021-04-13_17-00-48.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p><img src="Captura_de_pantalla_de_2021-04-13_17-02-09.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p><img src="Captura_de_pantalla_de_2021-04-13_17-02-49.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>Si te das cuenta, en este ejemplo hemos colocado el fichero <code>.fxml</code> en otro directorio aunque bajo el mismo paquete. Esta es lo forma correcta de trabajar con recursos para que luego funcione todo correctamente. A veces es recomendable estrucutrar los recursos en diferentes paquetes: <code>imagenes</code>, <code>vistas</code> (con los ficheros <code>.fxml</code>), <code>estilo</code> (con los ficheros <code>.css</code>), etc. En este caso lo mejor sería utilizar una interfaz marcadora a la altura del paquete con los demás subpaquetes y utilizar ésta para acceder a ese paquete ya que con el método <code>getResource</code> no podemos utilizar el <code>..</code> ni el <code>.</code> para navegar por los paquetes.</p>
<p><img src="Captura_de_pantalla_de_2021-04-13_17-15-28.png" alt="" style="display: block; margin-left: auto; margin-right: auto;" width="1640" height="924" /></p>
<p>De esta forma podríamos localizar un recurso fácilmente desde cualquier otro paquete y que nos funcionase tanto en el IDE como en el fichero empaquetado jar. Por ejemplo:</p>
<div class="highlighted-code code-style-2 language-java">
<div>
<pre><code>	...
	FXMLLoader cargadorVentanaPrincipal = new FXMLLoader(LocalizadorRecursos.class.getResource("vistas/VentanaPrincipal.fxml"));
	...
	escena.getStylesheets().add(LocalizadorRecursos.class.getResource("estilos/estilos.css").toExternalForm());</code></pre>
</div>
</div>
</div>
<ol style="list-style-type: decimal;" class=" auto-numbered"></ol>
<p></p>
<p>A continuación os dejo el enlace a la página de Oracle sobre JavaFX donde podréis encontrar multitud de documentación y ejemplos, aunque si buscáis en la web también encontraréis mucha documentación sobre esta tecnología incluso en castellano.</p>
<p style="text-align: center;"><a href="https://docs.oracle.com/javase/8/javase-clienttechnologies.htm" title="Acceder a la página de Oracle JavaFX">Oracle JavaFX</a></p>
<p>Ahora vamos a ir viendo las diferentes posibilidades que nos ofrece JavaFX para crear nuestras aplicaciones.</p>
</div>
</div>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="diseo_de_interfaces.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="siteFooter"><p style="text-align: center; font-size: large;">CC by-nc - <strong>José Ramón Jiménez Reyes </strong>- IES Al-Ándalus</p></div></div>
<script type="text/javascript" src="_fpd_js.js"></script></body></html>